(this.webpackJsonp2048=this.webpackJsonp2048||[]).push([[0],{13:function(e,t,n){e.exports=n(26)},18:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(4),o=n.n(l),u=(n(18),n(2)),c=n(8),i=function(e){var t,n,l=e.cell,o=Object(a.useState)(null),u=Object(c.a)(o,2),i=u[0],s=u[1],v=Object(a.useState)(null),f=Object(c.a)(v,2),d=f[0],m=f[1];Object(a.useEffect)((function(){return l.previousPosition&&(t=l?"cell cell__position--".concat(l.previousPosition.x,"-").concat(l.previousPosition.y):l.isNew?"cell cell__position--".concat(l.position.x,"-").concat(l.position.y):"cell cell__position--".concat(l.position.x,"-").concat(l.position.y," empty")),s(t),n=l.previousPosition?4*l.previousPosition.x+l.previousPosition.y:4*e.x+e.y,m(n),function(){return null}}),[e]);n=setTimeout((function(){return m(4*l.position.x+l.position.y),4*l.position.x+l.position.y}),0),t=setTimeout((function(){var e=l.value?"cell__position--".concat(l.position.x,"-").concat(l.position.y," value-").concat(l.value):"cell__position--".concat(l.position.x,"-").concat(l.position.y," empty");return s(e),e}),0);return r.a.createElement("div",{className:i,style:{transform:{0:"translate(0px, 0px)",1:"translate(7vw, 0px)",2:"translate(14vw, 0px)",3:"translate(21vw, 0px)",4:"translate(0px, 7vw)",5:"translate(7vw, 7vw)",6:"translate(14vw, 7vw)",7:"translate(21vw, 7vw)",8:"translate(0px, 14vw)",9:"translate(7vw, 14vw)",10:"translate(14vw, 14vw)",11:"translate(21vw, 14vw)",12:"translate(0vw, 21vw)",13:"translate(7vw, 21vw)",14:"translate(14vw, 21vw)",15:"translate(21vw, 21vw)"}[d]}},r.a.createElement("div",{className:function(){var e=l.isNew?"cell new":l.isMerge?"cell merged":"cell";return e+=" value-".concat(l.value)}()},r.a.createElement("div",{className:"cell__value"},l.value)))},s="BUILD",v="SET_VECTOR",f="SET_MOVE",d="SET_TIME",m="END",p="START_OVER",b=n(1),h=function(e,t){return e.map((function(e){return e[t]}))},y=function(e,t,n){return Object(b.a)(Object(b.a)({},e),{},{position:{x:t,y:n}})},E=function(e){var t=null;do{var n=Math.floor(4*Math.random()),a=Math.floor(4*Math.random()),r=Math.random()<.9?2:4;e[n][a]||(e[n][a]={position:{x:n,y:a},value:r,previousPosition:{x:n,y:a},isNew:!0,isMerge:!1},t=e[n][a])}while(!t);return e},O=function(e){return{38:0,75:0,87:0,39:1,76:1,68:1,40:2,74:2,83:2,37:3,72:3,65:3}[e]},w=function(e){var t=e?1:-1;return function(e,n){return null==e?t:null==n?-t:0}},g=function(e,t,n){for(var a=0,r=1;r<e.length;a++,r++)e[a]&&e[r]&&(e[a].isMerge||(t?e[a].value===e[r].value&&(e[a].value=2*e[a].value,n.value+=e[a].value,e.splice(r,1,null),e[a].isMerge=!0):e[a].value===e[r].value&&(e[r].value=2*e[r].value,n.value+=e[r].value,e[r].isMerge=!0,e.splice(a,1,null))));return e},j=function(e,t,n,a){var r=e;if(t)for(var l=0;l<r.length;l++){r[l]=r[l].sort(w(n)),r[l]=g(e[l],n,a),r[l]=r[l].sort(w(n));for(var o=0;o<r.length;o++)r[l][o]&&(r[l][o]=y(e[l][o],l,o),r[l][o].isNew=!1)}else for(var u=g(h(r,0).sort(w(n)),n,a).sort(w(n)),c=g(h(r,1).sort(w(n)),n,a).sort(w(n)),i=g(h(r,2).sort(w(n)),n,a).sort(w(n)),s=g(h(r,3).sort(w(n)),n,a).sort(w(n)),v=u.concat(c,i,s),f=0,d=0;d<r.length;d++)for(var m=0;m<r.length;m++,f++)v[f]&&(v[f].isNew=!1),r[m][d]=v[f],r[m][d]&&(r[m][d]=y(r[m][d],m,d));return r},x=function(){for(var e=function(e){for(var t=[],n=0;n<e;n++){t[n]=[];for(var a=0;a<e;a++)t[n][a]=null}return t}(4),t=0;t<2;t++)e=E(e);return{type:s,board:e}},_=function(e){var t=function(e){switch(O(e.keyCode)){case 0:return{x:1,y:0};case 1:return{x:0,y:-1};case 2:return{x:-1,y:0};case 3:return{x:0,y:1};default:return{x:0,y:0}}}(e);return{type:v,vector:t}},N=function(e,t){var n={value:0},a=JSON.parse(JSON.stringify(e)),r=null;a=function(e,t){for(var n=0;n<e.length;n++)for(var a=0;a<e.length;a++)e[n][a]&&(e[n][a].isMerge=!1);return e}(a=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)e[t][n]&&(e[t][n]=Object(b.a)(Object(b.a)({},e[t][n]),{},{previousPosition:{x:t,y:n}}));return e}(e)),t.x>0?a=j(a,!1,!0,n):t.x<0?a=j(a,!1,!1,n):t.y<0?a=j(a,!0,!1,n):t.y>0&&(a=j(a,!0,!0,n));var l=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e.length;a++)e[n][a]||t.push({x:n,y:a});return t}(e);return void 0!==l&&0!==l.length&&(a=E(a)),l&&(r=function(e){for(var t=!1,n=0;n<e.length;n++)for(var a=0;a<e.length;a++)try{e[n][a]&&(0===n?0===a?null===e[n][a+1]||null===e[n+1][a]?t=!0:e[n][a].value!==e[n][a+1].value&&e[n][a].value!==e[n+1][a].value||(t=!0):a===e.length-1?null===e[n][a-1]||null===e[n+1][a]?t=!0:e[n][a].value!==e[n][a-1].value&&e[n][a].value!==e[n+1][a].value||(t=!0):null===e[n][a-1]||null===e[n+1][a]||null===e[n][a+1]?t=!0:e[n][a].value!==e[n][a-1].value&&e[n][a].value!==e[n+1][a].value&&e[n][a].value!==e[n][a+1].value||(t=!0):n===e.length-1?0===a?null===e[n][a+1]||null===e[n-1][a]?t=!0:e[n][a].value!==e[n][a+1].value&&e[n][a].value!==e[n-1][a].value||(t=!0):a===e.length-1?null===e[n][a-1]||null===e[n-1][a]?t=!0:e[n][a].value!==e[n][a-1].value&&e[n][a].value!==e[n-1][a].value||(t=!0):null===e[n][a-1]||null===e[n-1][a]||null===e[n][a+1]?t=!0:e[n][a].value!==e[n][a-1].value&&e[n][a].value!==e[n-1][a].value&&e[n][a].value!==e[n][a+1].value||(t=!0):0===a?0===a&&(e[n][a].value===e[n][a+1].value||e[n][a].value===e[n-1][a].value||e[n][a].value===e[n+1][a].value?t=!0:e[n][a].value!==e[n][a+1].value&&e[n][a].value!==e[n-1][a].value&&e[n][a].value!==e[n+1][a].value||(t=!0)):a===e.length-1?null===e[n][a-1]||null===e[n-1][a]||null===e[n+1][a]?t=!0:e[n][a].value!==e[n][a-1].value&&e[n][a].value!==e[n-1][a].value&&e[n][a].value!==e[n+1][a].value||(t=!0):null===e[n][a-1]||null===e[n+1][a]||null===e[n][a+1]||null===e[n-1][a]?t=!0:e[n][a].value!==e[n][a+1].value&&e[n][a].value!==e[n][a-1].value&&e[n][a].value!==e[n-1][a].value&&e[n][a].value!==e[n+1][a].value||(t=!0))}catch(r){}return t}(e)),{type:f,tempBoard:a,scoreAdd:n,moveAvailable:r}},M=function(e){return r.a.createElement("div",{className:"settings__outBox ".concat(e.class)},r.a.createElement("h2",{className:"settings__outBox__title"},e.class),r.a.createElement("p",null,e.out))},B=function(){var e=Object(u.c)((function(e){return e.boardReducer})),t=Object(u.b)();return Object(a.useEffect)((function(){var n=null;return e.finish||(n=setInterval((function(){t({type:d})}),1e3)),function(){return clearInterval(n)}}),[e.finish]),r.a.createElement("div",{className:"settings"},r.a.createElement(M,{out:e.time,class:"time"}),r.a.createElement(M,{out:e.score,class:"score"}))},k=function(){var e=Object(u.c)((function(e){return e.boardReducer})),t=Object(u.b)();Object(a.useEffect)((function(){return t(x()),document.addEventListener("keydown",n,!1),function(){return null}}),[]),Object(a.useEffect)((function(){return 0===e.vector.x&&0===e.vector.y||t(N(e.board,e.vector)),function(){return null}}),[e.vector,e.board]);var n=function(e){e.preventDefault(),t(_(e))},l=e.board.map((function(e,t){return e.map((function(e,n){return e?r.a.createElement(i,{key:"".concat(t,"-").concat(n),cell:e}):null}))})),o=e.board.map((function(e,t){return e.map((function(e,n){return r.a.createElement("div",{className:"cell cell__position--".concat(t,"-").concat(n," empty")})}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null),r.a.createElement("div",{className:"board"},r.a.createElement("div",{className:"board__empty__cells"},o),r.a.createElement("div",{className:"board__exist__cells"},l)))},R=function(){return r.a.createElement("div",null)},S=function(e){return r.a.createElement("button",{className:"primary-Btn",onClick:e.handleClick},e.text)},T=function(){Object(u.c)((function(e){return e.boardReducer}));var e=Object(u.b)();return r.a.createElement("div",{className:"end-screen"},r.a.createElement("h2",{className:"end-screen__title"}," GAME OVER! "),r.a.createElement("p",{className:"end-screen__p"},"Would you like to try again?"),r.a.createElement(S,{handleClick:function(){e(function(){var e=x().board;return{type:p,board:e}}())},text:"Start Over"}))};var P=function(){var e=Object(u.c)((function(e){return e.boardReducer})).finish?r.a.createElement(T,null):null;return r.a.createElement("div",{className:"App"},r.a.createElement(R,null),r.a.createElement(k,null),e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(3),I=n(11),C=(n(25),{board:[],previousBoard:[],vector:{x:0,y:0},score:0,time:0,finish:!1}),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(b.a)(Object(b.a)({},e),{},{previousBoard:t.board,board:t.board});case p:return Object(b.a)(Object(b.a)({},e),{},{board:t.board,previousBoard:[],vector:{x:0,y:0},score:0,time:0,finish:!1});case v:return Object(b.a)(Object(b.a)({},e),{},{vector:t.vector});case f:return Object(b.a)(Object(b.a)({},e),{},{previousBoard:e.board,board:t.tempBoard,score:e.score+t.scoreAdd.value,finish:!t.moveAvailable});case d:return Object(b.a)(Object(b.a)({},e),{},{time:e.time+1});case m:return Object(b.a)(Object(b.a)({},e),{},{finish:!0});default:return Object(b.a)({},e)}},J="TIME",V={time:0},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(b.a)(Object(b.a)({},e),{},{time:e.time+1});default:return Object(b.a)({},e)}},L=n(12),F=Object(A.combineReducers)({boardReducer:D,settingsReducer:W}),G=Object(A.createStore)(F,Object(L.composeWithDevTools)(Object(A.applyMiddleware)(I.a)));o.a.render(r.a.createElement(u.a,{store:G},r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.82db0285.chunk.js.map